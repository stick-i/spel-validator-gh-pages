import{_ as e,c as i,a,o as p}from"./app-Bg7GikO5.js";const l="/assets/faq-api-test-BI92vFhj.png",s="/assets/faq-execution-time1-Dr3MIiYA.png",n="/assets/faq-execution-time2-ot392kpG.png",o="/assets/faq-flame1-Cem30tAq.png",r="/assets/faq-flame2-CLhqK2ov.png",c={};function m(d,t){return p(),i("div",null,t[0]||(t[0]=[a('<h1 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h1><h2 id="关于性能" tabindex="-1"><a class="header-anchor" href="#关于性能"><span>关于性能</span></a></h2><p>我对<a href="https://github.com/stick-i/spel-validator-example" target="_blank" rel="noopener noreferrer">示例项目</a>创建了一组简单的api测试用例，共15个请求，在后面的测试中，我会使用它们来进行测试。</p><p><img src="'+l+'" alt="img_4.png"></p><div class="custom-container tip"><p class="custom-container-title">测试环境</p><ul><li>Mac mini 2023款，M2芯片，16G内存</li><li>示例项目的接口中无业务逻辑，只有参数校验</li><li>SpEL Validator 版本：v0.2.0-beta</li><li>JDK版本：8</li><li>SpringBoot版本：2.7.17</li></ul></div><h3 id="执行耗时" tabindex="-1"><a class="header-anchor" href="#执行耗时"><span>执行耗时</span></a></h3><p>测试条件：</p><ul><li>开启debug日志</li><li>接口未预热</li><li>使用Apifox进行2线程3循环的测试，共90次请求</li></ul><p>测试结果：</p><p>除了前几次请求耗时会达到 10ms 以上， 后续请求耗时会稳定在 0~1ms 左右。</p><p><img src="'+s+'" alt="img_2.png"><img src="'+n+'" alt="img.png"></p><p>其中每条记录表示一次接口调用的完整校验耗时。</p><h3 id="火焰图" tabindex="-1"><a class="header-anchor" href="#火焰图"><span>火焰图</span></a></h3><p>测试条件：</p><ul><li>关闭debug日志</li><li>接口充分预热</li><li>使用 Apifox 进行10线程10循环的测试，共1500次请求</li><li>使用 IDEA 自带的 IntelliJ Profiler 进行分析</li></ul><p>得到如下的火焰图</p><p><img src="'+o+'" alt="img_1.png"></p><p><img src="'+r+'" alt="img_5.png"></p><p>可以看到，本组件的总耗时为170ms，平均每个请求耗时约0.11ms。</p><p>其中解析SpEL表达式的总耗时为110ms，占比约65%。</p><p>随后我在不同的数量的线程和循环次数后重新测试，得到的结果如下：</p><ul><li>5线程100循环，共7500次请求，总耗时约为 930ms，平均每个请求耗时约0.12ms，其中解析SpEL表达式的总耗时为 420ms，占比约45%。</li><li>20线程，30循环，共9000次此请求，总耗时约为 1190ms，平均每个请求耗时约0.13ms，其中解析SpEL表达式的总耗时为 390ms，占比约33%。</li></ul><p>这样看来，目前的性能表现还算可以接受，但还有优化空间，后续会继续优化。</p>',23)]))}const h=e(c,[["render",m],["__file","FAQ.html.vue"]]),u=JSON.parse('{"path":"/guide/FAQ.html","title":"常见问题","lang":"zh-CN","frontmatter":{"description":"常见问题 关于性能 我对示例项目创建了一组简单的api测试用例，共15个请求，在后面的测试中，我会使用它们来进行测试。 img_4.png 测试环境 Mac mini 2023款，M2芯片，16G内存 示例项目的接口中无业务逻辑，只有参数校验 SpEL Validator 版本：v0.2.0-beta JDK版本：8 SpringBoot版本：2.7....","head":[["meta",{"property":"og:url","content":"https://spel-validator.sticki.cn/guide/FAQ.html"}],["meta",{"property":"og:site_name","content":"SpEL Validator"}],["meta",{"property":"og:title","content":"常见问题"}],["meta",{"property":"og:description","content":"常见问题 关于性能 我对示例项目创建了一组简单的api测试用例，共15个请求，在后面的测试中，我会使用它们来进行测试。 img_4.png 测试环境 Mac mini 2023款，M2芯片，16G内存 示例项目的接口中无业务逻辑，只有参数校验 SpEL Validator 版本：v0.2.0-beta JDK版本：8 SpringBoot版本：2.7...."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-27T09:21:44.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-27T09:21:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"常见问题\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-27T09:21:44.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"关于性能","slug":"关于性能","link":"#关于性能","children":[{"level":3,"title":"执行耗时","slug":"执行耗时","link":"#执行耗时","children":[]},{"level":3,"title":"火焰图","slug":"火焰图","link":"#火焰图","children":[]}]}],"git":{"updatedTime":1724750504000,"contributors":[{"name":"阿杆","email":"sticki@qq.com","commits":1}]},"autoDesc":true,"filePathRelative":"guide/FAQ.md"}');export{h as comp,u as data};
